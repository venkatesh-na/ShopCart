(this.webpackJsonpshoping=this.webpackJsonpshoping||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(21),i=c.n(a),s=(c(29),c(30),c(14)),o=c(4),l=c(11),j=c.n(l),d=c(16),h=c(9),b=c(0),u=r.a.createContext(),O=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(h.a)(c,2),a=r[0],i=r[1],l=Object(n.useState)(a),O=Object(h.a)(l,2),x=O[0],p=O[1],f=Object(n.useState)([]),g=Object(h.a)(f,2),m=g[0],v=g[1],k=Object(n.useState)(!1),N=Object(h.a)(k,2),_=N[0],w=N[1],C=Object(n.useState)({four:!1,three:!1,two:!1,one:!1}),y=Object(h.a)(C,2),I=y[0],S=y[1],F=Object(n.useState)({low_to_high:!1,high_to_low:!1}),D=Object(h.a)(F,2),E=D[0],L=D[1],$=Object(n.useState)(null!==localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]),P=Object(h.a)($,2),B=P[0],T=P[1],J=Object(n.useState)(0),A=Object(h.a)(J,2),R=A[0],q=A[1],H=Object(n.useState)("all"),K=Object(h.a)(H,2),M=K[0],z=K[1],G=function(){var e=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fetch("https://fakestoreapi.com/products");case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,w(!1),i(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G()}),[]);Object(n.useEffect)((function(){var e=[];for(var t in E)e.push(E[t]);0==e.includes(!0)&&p("all"==M?a:a.filter((function(e){return e.category==M})))}),[E]);Object(n.useEffect)((function(){var e=0,t=[];for(var c in I)t.push(I[c]),e="four"==c?4:"three"==c?3:"two"==c?2:1,1==I[c]&&p("all"==M?a.filter((function(t){return t.rating.rate>e})):a.filter((function(e){return e.category==M})).filter((function(t){return t.rating.rate>e})));0==t.includes(!0)&&("all"==M?p(a):(p(a.filter((function(e){return e.category==M}))),z(M)))}),[I]),Object(n.useEffect)((function(){p(a)}),[a]);return Object(n.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(B)),q(B.reduce((function(e,t){return e+t.price}),0))}),[B]),Object(b.jsx)(u.Provider,{value:{product:a,product1:x,itemDetails:m,setItemDetails:v,loading:_,setLoading:w,handleCategory:function(e){z(e.target.dataset.id),L({low_to_high:!1,high_to_low:!1}),"all"==e.target.dataset.id?(p(a),S({four:!1,three:!1,two:!1,one:!1})):p(a.filter((function(t){return t.category==e.target.dataset.id})))},handlePrice:function(e){"low_to_high"==e.target.dataset.id?L(Object(o.a)(Object(o.a)({},E),{},{low_to_high:!0,high_to_low:!1})):"high_to_low"==e.target.dataset.id&&L(Object(o.a)(Object(o.a)({},E),{},{high_to_low:!0,low_to_high:!1}));var t=Object(s.a)(x);if("low_to_high"==e.target.dataset.id){for(var c=0;c<x.length;c++)for(var n=0;n<t.length-1;n++)if(t[n].price>t[n+1].price){var r=[t[n+1],t[n]];t[n]=r[0],t[n+1]=r[1]}p(t)}else if("high_to_low"==e.target.dataset.id){for(var a=0;a<x.length;a++)for(var i=0;i<t.length-1;i++)if(t[i].price<t[i+1].price){var l=[t[i+1],t[i]];t[i]=l[0],t[i+1]=l[1]}p(t)}},handleCheckbox:function(e){switch(e.target.dataset.id){case"4":S(Object(o.a)(Object(o.a)({},I),{},{four:!I.four}));break;case"3":S(Object(o.a)(Object(o.a)({},I),{},{three:!I.three}));break;case"2":S(Object(o.a)(Object(o.a)({},I),{},{two:!I.two}));break;case"1":S(Object(o.a)(Object(o.a)({},I),{},{one:!I.one}));break;default:p(a)}},check:I,radio:E,handleInc:function(e,t){0==B.filter((function(t){return t.productId==e})).length&&T([].concat(Object(s.a)(B),[{productId:e,count:1,price:t}])),B.filter((function(t){return t.productId==e})).length>0&&T(B.map((function(c){return c.productId==e?{productId:e,count:c.count+1,price:(c.count+1)*t}:c})))},handleDec:function(e,t){B.filter((function(t){return t.productId==e}))[0].count>0&&T(B.map((function(c){return c.productId==e?{productId:e,count:c.count-1,price:(c.count-1)*t}:c})))},cart:B,handleClear:function(){T([])},handleDeleteCart:function(e){T(B.filter((function(t){return t.productId!==e})))},subtotal:R,category:M,uncheck:function(){L({low_to_high:!1,high_to_low:!1})}},children:t})},x=function(){return Object(n.useContext)(u)},p=c(8),f=function(){var e=x().product1;return Object(b.jsx)("article",{className:"items-container",children:e.map((function(e,t){var c=e.id,n=e.title,r=e.price,a=e.image,i=e.rating.rate;return Object(b.jsx)(p.b,{to:"/Detail/".concat(c),children:Object(b.jsxs)("div",{className:"item",children:[Object(b.jsx)("img",{src:a,alt:n}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:n}),Object(b.jsxs)("div",{className:"price-discount",children:[Object(b.jsxs)("p",{children:[r,"$"]}),Object(b.jsxs)("p",{children:[(r+50).toFixed(2),"$"]}),Object(b.jsx)("p",{className:"off",children:i})]}),Object(b.jsxs)("p",{className:"off",children:[(100-r/(r+50)*100).toFixed(2),"% off"]})]})]},c)},t)}))})},g=function(){return Object(b.jsx)("div",{className:"loading-container",children:Object(b.jsx)("h1",{children:"Loading..."})})},m=function(){var e=x(),t=e.product,c=e.loading,n=e.handleCategory,r=e.handlePrice,a=e.handleCheckbox,i=e.check,o=e.radio,l=e.category,j=e.uncheck,d=i.four,h=i.three,u=i.two,O=i.one,p=o.low_to_high,m=o.high_to_low,v=["all"].concat(Object(s.a)(new Set(t.map((function(e){return e.category})))));return c?Object(b.jsx)(g,{}):Object(b.jsxs)("main",{className:"main-container",children:[Object(b.jsx)("section",{className:"btn-container",children:v.map((function(e,t){return Object(b.jsx)("button",{onClick:n,"data-id":e,children:e},t)}))}),Object(b.jsxs)("div",{className:"inner-container",children:[Object(b.jsxs)("aside",{children:[Object(b.jsxs)("article",{className:"price-filter",children:[Object(b.jsx)("p",{children:"price"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"low_to_high",name:"radio",type:"radio",onChange:r,checked:!!p}),Object(b.jsx)("span",{children:"low to high"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"high_to_low",name:"radio",type:"radio",onChange:r,checked:!!m}),Object(b.jsx)("span",{children:"high to low"})]}),Object(b.jsx)("button",{className:"uncheck",onClick:j,children:"uncheck price"})]})]}),Object(b.jsxs)("article",{className:"rating-filter",children:[Object(b.jsx)("p",{children:"cusomer rating"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"4",onChange:a,type:"checkbox",checked:!!d}),Object(b.jsx)("span",{children:"4 & above"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"3",onChange:a,type:"checkbox",checked:!!h}),Object(b.jsx)("span",{children:"3 & above"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"2",onChange:a,type:"checkbox",checked:!!u}),Object(b.jsx)("span",{children:"2 & above"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{"data-id":"1",onChange:a,type:"checkbox",checked:!!O}),Object(b.jsx)("span",{children:"1 & above"})]})]})]})]}),Object(b.jsxs)("section",{className:"product-section",children:[Object(b.jsx)("h1",{children:l}),Object(b.jsx)(f,{})]})]})]})},v=c(24),k=function(e){var t=e.match;console.log(t);var c=x(),r=c.itemDetails,a=c.setItemDetails,i=c.loading,s=c.setLoading,l=c.handleInc,h=c.handleDec,u=c.cart;console.log("detail item");var O=function(){var e=Object(d.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,console.log("fetch"),e.next=5,fetch("https://fakestoreapi.com/products/".concat(t.params.id));case 5:return c=e.sent,e.next=8,c.json();case 8:n=e.sent,s(!1),a([Object(o.a)({},n)]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),i?Object(b.jsx)(g,{}):Object(b.jsx)("section",{className:"main-detail-container",children:r.map((function(e){var c=e.id,n=e.title,r=e.price,a=(e.desc,e.description),i=e.category,s=e.image,o=e.rating,j=o.rate,d=o.count,O=u.filter((function(e){return e.productId==t.params.id}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:i}),Object(b.jsxs)("article",{children:[Object(b.jsx)("div",{className:"image-container",children:Object(b.jsx)("img",{src:s})}),Object(b.jsxs)("div",{className:"info-container",children:[Object(b.jsx)("p",{className:"title",children:n}),Object(b.jsx)("p",{className:"desc",children:a}),Object(b.jsxs)("div",{className:"rating",children:[Object(b.jsxs)("p",{children:[j,Object(b.jsx)(v.a,{})]}),Object(b.jsxs)("p",{children:[d," Rating"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[r,"$"]}),Object(b.jsxs)("p",{children:[(r+50).toFixed(2),"$"]}),Object(b.jsxs)("p",{className:"off",children:[(100-r/(r+50)*100).toFixed(2),"% off"]})]}),Object(b.jsxs)("div",{className:"btn-detail-container",children:[Object(b.jsx)(p.b,{to:"/#",children:Object(b.jsx)("button",{className:"back",children:"BACK TO SHOP"})}),Object(b.jsxs)("div",{className:"add_cart",children:[Object(b.jsx)("button",{onClick:function(){return h(c,r)},className:"dec",children:"-"}),Object(b.jsx)("p",{className:"count",children:O.length>0?O[0].count:0}),Object(b.jsx)("button",{onClick:function(){return l(c,r)},className:"inc",children:"+"})]})]})]})]})]},c)}))})},N=function(){var e=x(),t=e.cart,c=e.product,n=e.handleInc,a=e.handleDec,i=e.handleClear,s=e.handleDeleteCart,o=e.subtotal;return console.log(t),c.length>0?Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(p.b,{to:"/",children:Object(b.jsx)("button",{className:"back",children:"Back To Shop"})}),Object(b.jsxs)("section",{className:"cart-container",children:[t.length>0?t.map((function(e){var t=e.productId,r=e.count,i=e.price,o=c.filter((function(e){return e.id==t}))[0],l=o.id,j=o.title,d=o.category,h=o.image,u=o.price;return Object(b.jsx)("article",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:h,alt:"image"}),Object(b.jsxs)("div",{className:"cart-product-info",children:[Object(b.jsx)("p",{children:d}),Object(b.jsx)("p",{children:j})]}),Object(b.jsxs)("div",{className:"cart-btn-container",children:[Object(b.jsx)("button",{onClick:function(){return a(l,u)},children:"-"}),Object(b.jsx)("p",{children:r}),Object(b.jsx)("button",{onClick:function(){return n(l,u)},children:"+"})]}),Object(b.jsx)("p",{className:"original-price",children:u}),Object(b.jsx)("p",{className:"modified-price",children:i.toFixed(2)}),Object(b.jsx)("button",{onClick:function(){return s(t)},className:"delete-cart",children:"delete"})]})},t)})):Object(b.jsx)("h1",{children:"cart is empty"}),Object(b.jsx)("button",{onClick:i,className:"clear",children:"CLEAR ALL"})]}),Object(b.jsxs)("div",{className:"Total-container",children:[Object(b.jsxs)("p",{children:["Delivery ",Object(b.jsxs)("span",{children:["$",o>500?0:10]})]}),Object(b.jsxs)("p",{children:["Subtotal ",Object(b.jsxs)("span",{children:["$",o.toFixed(2)]})]}),Object(b.jsxs)("p",{children:["total ",Object(b.jsxs)("span",{children:["$",o>500?o.toFixed(2):(o+10).toFixed(2)]})]}),Object(b.jsx)("button",{children:"Buy"})]})]}):Object(b.jsx)(g,{})},_=c(2),w=function(){var e=x().cart.reduce((function(e,t){return e+t.count}),0);return Object(b.jsxs)("header",{children:[Object(b.jsx)("h1",{children:"ShopCart"}),Object(b.jsx)(p.b,{to:"/Cart",children:Object(b.jsxs)("div",{className:"cart-img",children:[Object(b.jsx)("img",{src:"shopping-cart.png"}),Object(b.jsx)("span",{className:"quantity",children:e})]})})]})},C=function(){return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsxs)(p.a,{children:[Object(b.jsx)(w,{}),Object(b.jsxs)(_.c,{children:[Object(b.jsx)(_.a,{path:"/",exact:!0,component:m}),Object(b.jsx)(_.a,{path:"/Detail/:id",component:k}),Object(b.jsx)(_.a,{path:"/Cart",component:N})]})]})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,39)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(O,{children:Object(b.jsx)(C,{})})}),document.getElementById("root")),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.75907f71.chunk.js.map